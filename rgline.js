RGraph=window.RGraph||{isRGraph:!0},RGraph.SVG=RGraph.SVG||{},function(t,e,s){var r=RGraph,o=(navigator.userAgent,Math);window,document;r.SVG.Line=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0]){var s;if("string"==typeof i)t=(s=r.SVG.commonSetter({object:this,name:i,value:arguments[0][i]})).name,e=s.value,this.set(t,e)}else t=(s=r.SVG.commonSetter({object:this,name:t,value:e})).name,e=s.value,this.properties[t]=e,"colors"===t&&(this.originalColors=r.SVG.arrayClone(e),this.colorsParsed=!1);return this},this.id=t.id,this.uid=r.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=r.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),r.SVG.isArray(t.data)&&r.SVG.isArray(t.data[0])?this.data=r.SVG.arrayClone(t.data):r.SVG.isArray(t.data)?this.data=[r.SVG.arrayClone(t.data)]:this.data=[[]],this.type="line",this.coords=[],this.coords2=[],this.coordsSpline=[],this.hasMultipleDatasets="object"==typeof this.data[0]&&"object"==typeof this.data[1],this.colorsParsed=!1,this.originalColors={},this.gradientCounter=1,this.originalData=r.SVG.arrayClone(this.data),this.filledGroups=[],r.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={gutterLeft:35,gutterRight:35,gutterTop:35,gutterBottom:35,backgroundColor:null,backgroundImage:null,backgroundImageStretch:!0,backgroundImageAspect:"none",backgroundImageOpacity:null,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridLinewidth:1,backgroundGridHlines:!0,backgroundGridHlinesCount:null,backgroundGridVlines:!0,backgroundGridVlinesCount:null,backgroundGridBorder:!0,backgroundGridDashed:!1,backgroundGridDotted:!1,backgroundGridDashArray:null,colors:["red","#0f0","blue","#ff0","#0ff","green"],filled:!1,filledColors:[],filledClick:null,filledOpacity:1,filledAccumulative:!1,hmargin:0,yaxis:!0,yaxisTickmarks:!0,yaxisTickmarksLength:3,yaxisColor:"black",yaxisScale:!0,yaxisLabels:null,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsCount:5,yaxisUnitsPre:"",yaxisUnitsPost:"",yaxisStrict:!1,yaxisDecimals:0,yaxisPoint:".",yaxisThousand:",",yaxisRound:!1,yaxisMax:null,yaxisMin:0,yaxisFormatter:null,xaxis:!0,xaxisTickmarks:!0,xaxisTickmarksLength:5,xaxisLabels:null,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsPosition:"edge",xaxisLabelsPositionEdgeTickmarksCount:null,xaxisColor:"black",textColor:"black",textFont:"sans-serif",textSize:12,textBold:!1,textItalic:!1,linewidth:1,tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsEvent:"mousemove",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,tickmarksStyle:"none",tickmarksSize:5,tickmarksFill:"white",tickmarksLinewidth:1,labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveBackground:"rgba(255,255,255,0.7)",labelsAboveBackgroundPadding:2,labelsAboveUnitsPre:null,labelsAboveUnitsPost:null,labelsAbovePoint:null,labelsAboveThousand:null,labelsAboveFormatter:null,labelsAboveDecimals:null,labelsAboveOffsetx:0,labelsAboveOffsety:-10,labelsAboveHalign:"center",labelsAboveValign:"bottom",labelsAboveSpecific:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,spline:!1,stepped:!1,title:"",titleSize:null,titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleColor:null,titleFont:null,titleBold:!1,titleItalic:!1,titleSubtitle:null,titleSubtitleSize:10,titleSubtitleX:null,titleSubtitleY:null,titleSubtitleHalign:"center",titleSubtitleValign:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:!1,titleSubtitleItalic:!1,errorbars:null,errorbarsColor:"black",errorbarsLinewidth:1,errorbarsCapwidth:10,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyTextOffsetx:0,keyTextOffsety:-1,keyTextSize:null,keyTextBold:null,keyTextItalic:null},r.SVG.getGlobals(this),r.SVG.FX&&"function"==typeof r.SVG.FX.decorate&&r.SVG.FX.decorate(this);var e=this.properties;for(i in this.draw=function(){r.SVG.fireCustomEvent(this,"onbeforedraw"),this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),r.SVG.createDefs(this),this.graphWidth=this.width-e.gutterLeft-e.gutterRight,this.graphHeight=this.height-e.gutterTop-e.gutterBottom,r.SVG.resetColorsToOriginalValues({object:this}),this.parseColors(),this.coords=[],this.coords2=[],this.coordsSpline=[],this.data=r.SVG.arrayClone(this.originalData),this.tooltipsSequentialIndex=0;for(var t=0,i=[];t<this.data.length;++t)for(var s=0;s<this.data[t].length;++s)void 0===i[s]&&(i[s]=0),e.filled&&e.filledAccumulative?(i[s]+=this.data[t][s],t===this.data.length-1&&(i[s]+=e.errorbars?e.errorbars[r.SVG.groupedIndexToSequential({object:this,dataset:t,index:s})].max:0)):i[s]=o.max(i[s],this.data[t][s]+(e.errorbars?e.errorbars[r.SVG.groupedIndexToSequential({object:this,dataset:t,index:s})].max:0));for(var l=[],a=(t=0,0);t<this.data.length;++t)if(r.SVG.isArray(this.data[t])&&!e.filledAccumulative)l.push(r.SVG.arrayMax(i));else if(r.SVG.isArray(this.data[t])&&e.filled&&e.filledAccumulative)for(s=0;s<this.data[t].length;++s)l[s]=l[s]||0,l[s]=l[s]+this.data[t][s],this.data[t][s]=l[s];if(e.filled&&e.filledAccumulative)a=r.SVG.arrayMax(i);else a=r.SVG.arrayMax(l);if("number"==typeof e.yaxisMax&&(a=e.yaxisMax),"mirror"===e.yaxisMin){var n=!0;e.yaxisMin=0}this.scale=r.SVG.getScale({object:this,numlabels:e.yaxisLabelsCount,unitsPre:e.yaxisUnitsPre,unitsPost:e.yaxisUnitsPost,max:a,min:e.yaxisMin,point:e.yaxisPoint,round:e.yaxisRound,thousand:e.yaxisThousand,decimals:e.yaxisDecimals,strict:"number"==typeof e.yaxisMax,formatter:e.yaxisFormatter}),n&&(this.scale=r.SVG.getScale({object:this,numlabels:e.yaxisLabelsCount,unitsPre:e.yaxisUnitsPre,unitsPost:e.yaxisUnitsPost,max:this.scale.max,min:-1*this.scale.max,point:e.yaxisPoint,round:!1,thousand:e.yaxisThousand,decimals:e.yaxisDecimals,strict:"number"==typeof e.yaxisMax,formatter:e.yaxisFormatter})),this.max=this.scale.max,this.min=this.scale.min,r.SVG.drawBackground(this),r.SVG.drawXAxis(this),r.SVG.drawYAxis(this);for(t=0;t<this.data.length;++t)this.drawLine(this.data[t],t);this.redrawLines(),null!==typeof e.key&&r.SVG.drawKey?r.SVG.drawKey(this):RGraph.SVG.isNull(e.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?"),this.drawLabelsAbove();var h=this;return document.body.addEventListener("mousedown",function(t){r.SVG.removeHighlight(h)},!1),r.SVG.fireCustomEvent(this,"ondraw"),this},this.drawLine=function(t,i){for(var s=[],o=[],l=0,a=t.length;l<a;++l){var n=t[l],h=(this.graphWidth-e.hmargin-e.hmargin)/(a-1)*l+e.gutterLeft+e.hmargin,c=this.getYCoord(n);s.push([h,c])}for(l=0;l<s.length;++l){if(0===l||r.SVG.isNull(t[l])||r.SVG.isNull(t[l-1]))var d="M";else{e.stepped&&o.push("L {1} {2}".format(s[l][0],s[l-1][1]));d="L"}o.push(d+"{1} {2}".format(s[l][0],s[l][1]))}for(var u=0;u<s.length;++u)this.coords.push(r.SVG.arrayClone(s[u])),this.coords[this.coords.length-1].x=s[u][0],this.coords[this.coords.length-1].y=s[u][1],this.coords[this.coords.length-1].object=this,this.coords[this.coords.length-1].value=t[u],this.coords[this.coords.length-1].index=u,this.coords[this.coords.length-1].path=o;this.coords2[i]=r.SVG.arrayClone(s);for(u=0;u<s.length;++u)this.coords2[i][u].x=s[u][0],this.coords2[i][u].y=s[u][1],this.coords2[i][u].object=this,this.coords2[i][u].value=t[u],this.coords2[i][u].index=u,this.coords2[i][u].path=o,e.errorbars&&this.drawErrorbar({object:this,dataset:i,index:u,x:h,y:c});if(e.spline&&(this.coordsSpline[i]=this.drawSpline(s)),!0===e.filled||"object"==typeof e.filled&&e.filled[i]){if(e.spline){var g=["M{1} {2}".format(this.coordsSpline[i][0][0],this.coordsSpline[i][0][1])];for(l=1;l<this.coordsSpline[i].length;++l)g.push("L{1} {2}".format(this.coordsSpline[i][l][0]+(l===this.coordsSpline[i].length-1?1:0),this.coordsSpline[i][l][1]))}else g=r.SVG.arrayClone(o);if(g.push("L{1} {2}".format(this.coords2[i][this.coords2[i].length-1][0]+1,i>0&&e.filledAccumulative?e.spline?this.coordsSpline[i-1][this.coordsSpline[i-1].length-1][1]:this.coords2[i-1][this.coords2[i-1].length-1][1]:this.getYCoord(e.yaxisMin>0?e.yaxisMin:0)+(e.xaxis?0:1))),i>0&&e.filledAccumulative){var p=r.SVG.arrayClone(o);if(i>0&&e.filledAccumulative)if(e.spline)for(l=this.coordsSpline[i-1].length-1;l>=0;--l)g.push("L{1} {2}".format(this.coordsSpline[i-1][l][0],this.coordsSpline[i-1][l][1]));else for(l=this.coords2[i-1].length-1;l>=0;--l)g.push("L{1} {2}".format(this.coords2[i-1][l][0],this.coords2[i-1][l][1])),e.stepped&&l>0&&g.push("L{1} {2}".format(this.coords2[i-1][l][0],this.coords2[i-1][l-1][1]))}else g.push("L{1} {2}".format(this.coords2[i][0][0]+(e.yaxis?1:0),this.getYCoord(e.yaxisMin>0?e.yaxisMin:0)+(e.xaxis?0:1)));g.push("L{1} {2}".format(this.coords2[i][0][0]+(e.yaxis?1:0),this.coords2[i][0][1]));for(l=0;l<this.data[i].length;++l)if(!r.SVG.isNull(this.data[i][l])){g.push("L{1} {2}".format(this.coords2[i][l][0],this.getYCoord(0)));break}this.filledGroups[i]=r.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{class:"rgraph_filled_line_"+i}});var f=r.SVG.create({svg:this.svg,parent:this.filledGroups[i],type:"path",attr:{d:g.join(" "),stroke:"rgba(0,0,0,0)",fill:e.filledColors&&e.filledColors[i]?e.filledColors[i]:e.colors[i],"fill-opacity":e.filledOpacity,"stroke-width":1,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});if(e.filledClick){var b=this;f.addEventListener("click",function(t){e.filledClick(t,b,i)},!1),f.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}}if(e.shadow&&r.SVG.setShadow({object:this,offsetx:e.shadowOffsetx,offsety:e.shadowOffsety,blur:e.shadowBlur,opacity:e.shadowOpacity,id:"dropShadow"}),e.spline){var v=["M{1} {2}".format(this.coordsSpline[i][0][0],this.coordsSpline[i][0][1])];for(l=1;l<this.coordsSpline[i].length;++l)v.push("L{1} {2}".format(this.coordsSpline[i][l][0],this.coordsSpline[i][l][1]));v=v.join(" ");r.SVG.create({svg:this.svg,parent:e.filled?this.filledGroups[i]:this.svg.all,type:"path",attr:{d:v,stroke:e.colors[i],fill:"none","stroke-width":this.hasMultipleDatasets&&e.filled&&e.filledAccumulative?.1:r.SVG.isArray(e.linewidth)?e.linewidth[i]:e.linewidth+.01,"stroke-linecap":"round","stroke-linejoin":"round",filter:e.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}else{p=r.SVG.arrayClone(o);if(e.filled&&e.filledAccumulative&&i>0)for(l=this.coords2[i-1].length-1;l>=0;--l)p.push("L{1} {2}".format(this.coords2[i-1][l][0],this.coords2[i-1][l][1]));p=p.join(" ");r.SVG.create({svg:this.svg,parent:e.filled?this.filledGroups[i]:this.svg.all,type:"path",attr:{d:p,stroke:e.colors[i],fill:"none","stroke-width":this.hasMultipleDatasets&&e.filled&&e.filledAccumulative?.1:r.SVG.isArray(e.linewidth)?e.linewidth[i]:e.linewidth+.01,"stroke-linecap":"round","stroke-linejoin":"round",filter:e.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}if(e.tooltips&&e.tooltips.length){if(this.svg.all.line_tooltip_hotspots)y=this.svg.all.line_tooltip_hotspots;else{var y=r.SVG.create({svg:this.svg,type:"g",attr:{fill:"transparent",className:"rgraph_hotspots"},style:{cursor:"pointer"}});this.svg.all.line_tooltip_hotspots=y}for(l=0;l<this.coords2[i].length&&this.tooltipsSequentialIndex<e.tooltips.length;++l,++this.tooltipsSequentialIndex)if(!r.SVG.isNull(this.originalData[i][l])&&e.tooltips[this.tooltipsSequentialIndex]&&this.coords2[i][l][0]&&this.coords2[i][l][1]){var S=r.SVG.create({svg:this.svg,parent:y,type:"circle",attr:{cx:this.coords2[i][l][0],cy:this.coords2[i][l][1],r:10,fill:"transparent","data-dataset":i,"data-index":l},style:{cursor:"pointer"}});b=this;!function(t){S.addEventListener(e.tooltipsEvent,function(i){var s=r.SVG.sequentialIndexToGrouped(t,b.data),o=s[1],l=s[0];if(!r.SVG.REG.get("tooltip")||r.SVG.REG.get("tooltip").__index__!==o||r.SVG.REG.get("tooltip").__dataset__!==l){if(b.removeHighlight(),r.SVG.hideTooltip(),e.tooltips[t])var a=e.tooltips[t];r.SVG.tooltip({object:b,index:o,dataset:l,sequentialIndex:t,text:a,event:i});var n=r.SVG.create({svg:b.svg,parent:b.svg.all,type:"circle",attr:{cx:b.coords2[l][o][0],cy:b.coords2[l][o][1],r:13,fill:b.properties.colors[l],"fill-opacity":.5},style:{cursor:"pointer"}}),h=r.SVG.create({svg:b.svg,parent:b.svg.all,type:"circle",attr:{cx:b.coords2[l][o][0],cy:b.coords2[l][o][1],r:14,fill:"white","fill-opacity":.75},style:{cursor:"pointer"}}),c=r.SVG.create({svg:b.svg,parent:b.svg.all,type:"circle",attr:{cx:b.coords2[l][o][0],cy:b.coords2[l][o][1],r:6,fill:"white"},style:{cursor:"pointer"}}),d=r.SVG.create({svg:b.svg,parent:b.svg.all,type:"circle",attr:{cx:b.coords2[l][o][0],cy:b.coords2[l][o][1],r:5,fill:b.properties.colors[l]},style:{cursor:"pointer"}});r.SVG.REG.set("highlight",[n,h,c,d])}},!1)}(this.tooltipsSequentialIndex)}}},this.drawTickmarks=function(t,i,s){for(var o="object"==typeof e.tickmarksStyle?e.tickmarksStyle[t]:e.tickmarksStyle,l="object"==typeof e.tickmarksSize?e.tickmarksSize[t]:e.tickmarksSize,a="object"==typeof e.tickmarksFill?e.tickmarksFill[t]:e.tickmarksFill,n="object"==typeof e.tickmarksLinewidth?e.tickmarksLinewidth[t]:e.tickmarksLinewidth,h=0;h<i.length;++h)if("number"==typeof i[h])switch(o){case"filledcircle":case"filledendcircle":if("filledcircle"===o||0===h||h===i.length-1)r.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:s[t][h][0],cy:s[t][h][1],r:l,fill:e.colors[t],filter:e.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}});break;case"circle":case"endcircle":if("circle"===o||"endcircle"===o&&(0===h||h===i.length-1)){r.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:s[t][h][0],cy:s[t][h][1],r:l+n,fill:e.colors[t],filter:e.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}}),r.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:s[t][h][0],cy:s[t][h][1],r:l,fill:a,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});break}break;case"endrect":case"rect":if("rect"===o||"endrect"===o&&(0===h||h===i.length-1))a="object"==typeof a&&"string"==typeof a[t]?a[t]:a,r.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s[t][h][0]-l,y:s[t][h][1]-l,width:l+l+n,height:l+l+n,"stroke-width":n,stroke:e.colors[t],fill:a,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});break;case"filledendrect":case"filledrect":if("filledrect"===o||"filledendrect"===o&&(0===h||h===i.length-1))a=e.colors[t],r.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s[t][h][0]-l,y:s[t][h][1]-l,width:l+l+n,height:l+l+n,fill:a,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}},this.redrawLines=function(){if(e.spline){for(var t=0;t<this.coordsSpline.length;++t){for(var i=r.SVG.isArray(e.linewidth)?e.linewidth[t]:e.linewidth,s=e.colors[t],o="",l=0;l<this.coordsSpline[t].length;++l)o+=0===l?"M{1} {2} ".format(this.coordsSpline[t][l][0],this.coordsSpline[t][l][1]):"L{1} {2} ".format(this.coordsSpline[t][l][0],this.coordsSpline[t][l][1]);r.SVG.create({svg:this.svg,parent:e.filled?this.filledGroups[t]:this.svg.all,type:"path",attr:{d:o,stroke:s,fill:"none","stroke-width":i+.01,"stroke-linecap":"round","stroke-linejoin":"round",filter:e.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}for(var a=0;a<this.coords2.length;++a)this.drawTickmarks(a,this.data[a],this.coords2)}else{for(t=0;t<this.coords2.length;++t){for(i=r.SVG.isArray(e.linewidth)?e.linewidth[t]:e.linewidth,s=e.colors[t],o="",l=0;l<this.coords2[t].length;++l)0===l||r.SVG.isNull(this.data[t][l])||r.SVG.isNull(this.data[t][l-1])?o+="M{1} {2} ".format(this.coords2[t][l][0],this.coords2[t][l][1]):(e.stepped&&(o+="L{1} {2} ".format(this.coords2[t][l][0],this.coords2[t][l-1][1])),o+="L{1} {2} ".format(this.coords2[t][l][0],this.coords2[t][l][1]));r.SVG.create({svg:this.svg,parent:e.filled?this.filledGroups[t]:this.svg.all,type:"path",attr:{d:o,stroke:s,fill:"none","stroke-width":i+.01,"stroke-linecap":"round","stroke-linejoin":"round",filter:e.shadow?"url(#dropshadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}for(a=0;a<this.coords2.length;++a)this.drawTickmarks(a,this.data[a],this.coords2)}},this.getYCoord=function(t){var e,i=this.properties;return t>this.scale.max?null:t<this.scale.min?null:(e=(t-this.scale.min)/(this.scale.max-this.scale.min),e*=this.height-i.gutterTop-i.gutterBottom,e=this.height-i.gutterBottom-e)},this.highlight=function(t){t.getAttribute("x"),t.getAttribute("y")},this.removeHighlight=function(){var t=r.SVG.REG.get("highlight");if(t&&t.parentNode)t.parentNode.removeChild(t);else if(t)for(var e=0;e<t.length;++e)t[e]&&t[e].parentNode&&t[e].parentNode.removeChild(t[e]);r.SVG.REG.set("highlight",null)},this.drawSpline=function(t){var i=[];gutterLeft=e.gutterLeft,gutterRight=e.gutterRight,hmargin=e.hmargin,interval=(this.graphWidth-2*hmargin)/(t.length-1),coordsSpline=[];for(var s=0,r=t.length;s<r;s+=1)"object"==typeof t[s]&&t[s]&&2==t[s].length&&(t[s]=Number(t[s][1]));var o,l,a,n,h,c=[t[0]];for(s=0;s<t.length;++s)c.push(t[s]);c.push(t[t.length-1]+(t[t.length-1]-t[t.length-2]));for(var d=1;d<c.length-2;++d)for(var u=0;u<10;++u){var g=(o=u/10,l=c[d-1],a=c[d],n=c[d+1],h=c[d+2],.5*(2*a+(0-l+n)*o+(o*o*(2*l-5*a+4*n-h)+(0-l+3*a-3*n+h)*(o*o*o))));i.push((d-1)*interval+u*(interval/10)+gutterLeft+hmargin),coordsSpline.push([i[i.length-1],g]),"number"==typeof index&&coordsSpline[index].push([i[i.length-1],g])}coordsSpline.push([(d-1)*interval+gutterLeft+hmargin,c[d]]),"number"==typeof index&&coordsSpline.push([(d-1)*interval+gutterLeft+hmargin,c[d]]);for(s=0;s<coordsSpline.length;++s)coordsSpline[s].object=this,coordsSpline[s].x=this,coordsSpline[s].y=this;return coordsSpline},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:r.SVG.arrayClone(e.colors),filledColors:r.SVG.arrayClone(e.filledColors),backgroundGridColor:r.SVG.arrayClone(e.backgroundGridColor),highlightFill:r.SVG.arrayClone(e.highlightFill),backgroundColor:r.SVG.arrayClone(e.backgroundColor)});var t=e.colors;if(t)for(var i=0;i<t.length;++i)t[i]=r.SVG.parseColorLinear({object:this,color:t[i]});var s=e.filledColors;if(s)for(i=0;i<s.length;++i)s[i]=r.SVG.parseColorLinear({object:this,color:s[i]});e.backgroundGridColor=r.SVG.parseColorLinear({object:this,color:e.backgroundGridColor}),e.highlightFill=r.SVG.parseColorLinear({object:this,color:e.highlightFill}),e.backgroundColor=r.SVG.parseColorLinear({object:this,color:e.backgroundColor})},this.drawLabelsAbove=function(){if(e.labelsAbove){r.SVG.arrayLinearize(this.data);for(var t=0,i=0;i<this.coords2.length;++i,t++){for(var s=0;s<this.coords2[i].length;++s,t++){var o=r.SVG.numberFormat({object:this,num:this.data[i][s].toFixed(e.labelsAboveDecimals),prepend:"string"==typeof e.labelsAboveUnitsPre?e.labelsAboveUnitsPre:null,append:"string"==typeof e.labelsAboveUnitsPost?e.labelsAboveUnitsPost:null,point:"string"==typeof e.labelsAbovePoint?e.labelsAbovePoint:null,thousand:"string"==typeof e.labelsAboveThousand?e.labelsAboveThousand:null,formatter:"function"==typeof e.labelsAboveFormatter?e.labelsAboveFormatter:null});if(e.labelsAboveSpecific&&e.labelsAboveSpecific.length&&("string"==typeof e.labelsAboveSpecific[t]||"number"==typeof e.labelsAboveSpecific[t]))o=e.labelsAboveSpecific[t];else if(e.labelsAboveSpecific&&e.labelsAboveSpecific.length&&"string"!=typeof e.labelsAboveSpecific[t]&&"number"!=typeof e.labelsAboveSpecific[t])continue;r.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:o,x:parseFloat(this.coords2[i][s][0])+e.labelsAboveOffsetx,y:parseFloat(this.coords2[i][s][1])+e.labelsAboveOffsety,halign:e.labelsAboveHalign,valign:e.labelsAboveValign,font:e.labelsAboveFont||e.textFont,size:e.labelsAboveSize||e.textSize,bold:e.labelsAboveBold||e.textBold,italic:e.labelsAboveItalic||e.textItalic,color:e.labelsAboveColor||e.textColor,background:e.labelsAboveBackground||null,padding:e.labelsAboveBackgroundPadding||0})}t--}}},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),r.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.drawErrorbar=function(t){var e=r.SVG.getErrorbarsLinewidth({object:this,index:t.index}),i=r.SVG.getErrorbarsColor({object:this,index:t.index}),s=r.SVG.getErrorbarsCapWidth({object:this,index:t.index}),o=t.index,l=t.dataset,a=t.x,n=t.y,h=this.data[l][o],c=r.SVG.groupedIndexToSequential({dataset:l,index:o,object:this}),d=(n=this.getYCoord(n),r.SVG.getErrorbarsMaxValue({object:this,index:c})),u=r.SVG.getErrorbarsMinValue({object:this,index:c});if(d||u){a=this.coords2[l][o].x,n=this.coords2[l][o].y;var g=s/2,p=this.getYCoord(h+d),f=null===this.getYCoord(h-u)?n:this.getYCoord(h-u);if(d>0)r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:a,y1:n,x2:a,y2:p,stroke:i,"stroke-width":e}}),r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:a-g,y1:p,x2:a+g,y2:p,stroke:i,"stroke-width":e}});if("number"==typeof u)r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:a,y1:n,x2:a,y2:f,stroke:i,"stroke-width":e}}),r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:a-g,y1:f,x2:a+g,y2:f,stroke:i,"stroke-width":e}})}},this.trace=function(){var t=arguments[0]||{},e=1,i=t.frames||60,s=this;this.isTrace=!0,this.draw();var o=r.SVG.create({svg:this.svg,parent:this.svg.defs,type:"clipPath",attr:{id:"trace-effect-clip"}}),l=r.SVG.create({svg:this.svg,parent:o,type:"rect",attr:{x:0,y:0,width:0,height:this.height}}),a=function(){var n=e++/i*s.width;l.setAttribute("width",n),e<=i?r.SVG.FX.update(a):(o.parentNode.removeChild(o),t.callback&&t.callback(s))};return a(),this},t.options)"string"==typeof i&&this.set(i,t.options[i])}}(window,document);