RGraph=window.RGraph||{isRGraph:!0},RGraph.SVG=RGraph.SVG||{},function(t,e,a){var r=RGraph,s=(navigator.userAgent,Math);window,document;r.SVG.Bar=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0]){var a;if("string"==typeof i)t=(a=r.SVG.commonSetter({object:this,name:i,value:arguments[0][i]})).name,e=a.value,this.set(t,e)}else t=(a=r.SVG.commonSetter({object:this,name:t,value:e})).name,e=a.value,this.properties[t]=e,"colors"===t&&(this.originalColors=r.SVG.arrayClone(e),this.colorsParsed=!1);return this},this.id=t.id,this.uid=r.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=r.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.data=t.data,this.type="bar",this.coords=[],this.coords2=[],this.stackedBackfaces=[],this.originalColors={},this.gradientCounter=1,r.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={gutterLeft:35,gutterRight:35,gutterTop:35,gutterBottom:35,variant:null,variant3dOffsetx:10,variant3dOffsety:5,backgroundColor:null,backgroundImage:null,backgroundImageAspect:"none",backgroundImageStretch:!0,backgroundImageOpacity:null,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridLinewidth:1,backgroundGridHlines:!0,backgroundGridHlinesCount:null,backgroundGridVlines:!0,backgroundGridVlinesCount:null,backgroundGridBorder:!0,backgroundGridDashed:!1,backgroundGridDotted:!1,backgroundGridDashArray:null,colors:["red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black","red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black"],colorsSequential:!1,strokestyle:"rgba(0,0,0,0)",errorbars:null,hmargin:3,hmarginGrouped:2,yaxis:!0,yaxisTickmarks:!0,yaxisTickmarksLength:3,yaxisColor:"black",yaxisScale:!0,yaxisLabels:null,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsCount:5,yaxisUnitsPre:"",yaxisUnitsPost:"",yaxisStrict:!1,yaxisDecimals:0,yaxisPoint:".",yaxisThousand:",",yaxisRound:!1,yaxisMax:null,yaxisMin:0,yaxisFormatter:null,xaxis:!0,xaxisTickmarks:!0,xaxisTickmarksLength:5,xaxisLabels:null,xaxisLabelsPosition:"section",xaxisLabelsPositionSectionTickmarksCount:null,xaxisColor:"black",xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveBackground:null,labelsAboveBackgroundPadding:0,labelsAboveUnitsPre:null,labelsAboveUnitsPost:null,labelsAbovePoint:null,labelsAboveThousand:null,labelsAboveFormatter:null,labelsAboveDecimals:null,labelsAboveOffsetx:0,labelsAboveOffsety:0,labelsAboveHalign:"center",labelsAboveValign:"bottom",labelsAboveSpecific:null,textColor:"black",textFont:"sans-serif",textSize:12,textBold:!1,textItalic:!1,linewidth:1,grouping:"grouped",tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsEvent:"click",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,title:"",titleSize:16,titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleColor:"black",titleFont:null,titleBold:!1,titleItalic:!1,titleSubtitle:null,titleSubtitleSize:10,titleSubtitleX:null,titleSubtitleY:null,titleSubtitleHalign:"center",titleSubtitleValign:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:!1,titleSubtitleItalic:!1,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,errorbars:null,errorbarsColor:"black",errorbarsLinewidth:1,errorbarsCapwidth:10,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyTextOffsetx:0,keyTextOffsety:-1,keyTextSize:null,keyTextBold:null,keyTextItalic:null,keyTextFont:null},r.SVG.getGlobals(this),r.SVG.FX&&"function"==typeof r.SVG.FX.decorate&&r.SVG.FX.decorate(this);var e=this.properties;for(i in this.draw=function(){r.SVG.fireCustomEvent(this,"onbeforedraw"),this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),"3d"!==e.variant?(e.variant3dOffsetx=0,e.variant3dOffsety=0):this.svg.all.setAttribute("transform","skewY(5)"),r.SVG.createDefs(this),this.coords=[],this.coords2=[],this.graphWidth=this.width-e.gutterLeft-e.gutterRight,this.graphHeight=this.height-e.gutterTop-e.gutterBottom,r.SVG.resetColorsToOriginalValues({object:this}),this.parseColors();for(var t=[],a=0,i=0;a<this.data.length;++a){if(e.errorbars&&"number"==typeof e.errorbars[a])var s=e.errorbars[a];else if(e.errorbars&&"object"==typeof e.errorbars[a]&&"number"==typeof e.errorbars[a].max)s=e.errorbars[a].max;else s=0;"number"==typeof this.data[a]?t.push(this.data[a]+s):r.SVG.isArray(this.data[a])&&"grouped"===e.grouping?t.push(r.SVG.arrayMax(this.data[a])+s):r.SVG.isArray(this.data[a])&&"stacked"===e.grouping&&t.push(r.SVG.arraySum(this.data[a])+s)}i=r.SVG.arrayMax(t);if("number"==typeof e.yaxisMax&&(i=e.yaxisMax),"mirror"===e.yaxisMin||"middle"===e.yaxisMin||"center"===e.yaxisMin){var o=!0;e.yaxisMin=0}return this.scale=r.SVG.getScale({object:this,numlabels:e.yaxisLabelsCount,unitsPre:e.yaxisUnitsPre,unitsPost:e.yaxisUnitsPost,max:i,min:e.yaxisMin,point:e.yaxisPoint,round:e.yaxisRound,thousand:e.yaxisThousand,decimals:e.yaxisDecimals,strict:"number"==typeof e.yaxisMax,formatter:e.yaxisFormatter}),o&&(this.scale=r.SVG.getScale({object:this,numlabels:e.yaxisLabelsCount,unitsPre:e.yaxisUnitsPre,unitsPost:e.yaxisUnitsPost,max:this.scale.max,min:-1*this.scale.max,point:e.yaxisPoint,round:!1,thousand:e.yaxisThousand,decimals:e.yaxisDecimals,strict:"number"==typeof e.yaxisMax,formatter:e.yaxisFormatter})),this.max=this.scale.max,this.min=this.scale.min,e.yaxisMax=this.scale.max,e.yaxisMin=this.scale.min,r.SVG.drawBackground(this),"3d"===e.variant&&(r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M {1} {2} L {3} {4} L {5} {6} L {7} {8}".format(e.gutterLeft,e.gutterTop,e.gutterLeft+e.variant3dOffsetx,e.gutterTop-e.variant3dOffsety,e.gutterLeft+e.variant3dOffsetx,this.height-e.gutterBottom-e.variant3dOffsety,e.gutterLeft,this.height-e.gutterBottom,e.gutterLeft,e.gutterTop),fill:"#ddd",stroke:"#ccc"}}),this.threed_xaxis_group=r.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{className:"rgraph_3d_bar_xaxis_negative"}}),r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M {1} {2} L {3} {4} L {5} {6} L {7} {8}".format(e.gutterLeft,this.getYCoord(0),e.gutterLeft+e.variant3dOffsetx,this.getYCoord(0)-e.variant3dOffsety,this.width-e.gutterRight+e.variant3dOffsetx,this.getYCoord(0)-e.variant3dOffsety,this.width-e.gutterRight,this.getYCoord(0),e.gutterLeft,this.getYCoord(0)),fill:"#ddd",stroke:"#ccc"}})),this.drawBars(),r.SVG.drawXAxis(this),r.SVG.drawYAxis(this),this.drawLabelsAbove(),null!==typeof e.key&&r.SVG.drawKey?r.SVG.drawKey(this):RGraph.SVG.isNull(e.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?"),r.SVG.attribution(this),r.SVG.fireCustomEvent(this,"ondraw"),this},this.drawBars=function(){var t=this.getYCoord(0);e.shadow&&r.SVG.setShadow({object:this,offsetx:e.shadowOffsetx,offsety:e.shadowOffsety,blur:e.shadowBlur,opacity:e.shadowOpacity,id:"dropShadow"});for(var a=0,i=0;a<this.data.length;++a,++i)if("number"==typeof this.data[a]){var o=this.graphWidth/this.data.length,l=(s.abs(this.data[a])-s.abs(this.scale.min))/(s.abs(this.scale.max)-s.abs(this.scale.min))*this.graphHeight,h=this.graphWidth/this.data.length-e.hmargin-e.hmargin,n=e.gutterLeft+e.hmargin+o*a;this.scale.min>=0&&this.scale.max>0?t=this.getYCoord(this.scale.min)-l:this.scale.min<0&&this.scale.max>0?(l=s.abs(this.data[a])/(this.scale.max-this.scale.min)*this.graphHeight,t=this.getYCoord(0)-l,this.data[a]<0&&(t=this.getYCoord(0))):this.scale.min<0&&this.scale.max<0&&(l=(s.abs(this.data[a])-s.abs(this.scale.max))/(s.abs(this.scale.min)-s.abs(this.scale.max))*this.graphHeight,t=e.gutterTop);var d=r.SVG.create({svg:this.svg,type:"rect",parent:"3d"===e.variant&&this.data[a]<0?this.threed_xaxis_group:this.svg.all,attr:{stroke:e.strokestyle,fill:e.colorsSequential?e.colors[i]?e.colors[i]:e.colors[e.colors.length-1]:e.colors[0],x:n,y:t,width:h<0?0:h,height:l,"stroke-width":e.linewidth,"data-original-x":n,"data-original-y":t,"data-original-width":h,"data-original-height":l,"data-tooltip":!r.SVG.isNull(e.tooltips)&&e.tooltips.length?e.tooltips[a]:"","data-index":a,"data-sequential-index":i,"data-value":this.data[a],filter:e.shadow?"url(#dropShadow)":""}});if(this.drawErrorbar({object:this,element:d,index:a,value:this.data[a],type:"normal"}),this.coords.push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),this.coords2[0]||(this.coords2[0]=[]),this.coords2[0].push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),"3d"===e.variant&&(this.drawTop3dFace({rect:d,value:this.data[a]}),this.drawSide3dFace({rect:d,value:this.data[a]})),!r.SVG.isNull(e.tooltips)&&e.tooltips[i]){var g=this;!function(t,a){d.addEventListener(e.tooltipsEvent.replace(/^on/,""),function(i){g.removeHighlight(),r.SVG.tooltip({object:g,index:t,group:null,sequentialIndex:a,text:e.tooltips[a],event:i}),g.highlight(i.target)},!1),d.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(a,i)}}else if(r.SVG.isArray(this.data[a])&&"grouped"===e.grouping){for(var c=(o=this.graphWidth/this.data.length)-2*e.hmargin,u=0;u<this.data[a].length;++u,++i){h=(c-(this.data[a].length-1)*e.hmarginGrouped)/this.data[a].length,n=o*a+e.hmargin+e.gutterLeft+u*h+(u-1)*e.hmarginGrouped;if(n=e.gutterLeft+o*a+h*u+e.hmargin+u*e.hmarginGrouped,0===this.scale.min&&this.scale.max>this.scale.min)l=(this.data[a][u]-this.scale.min)/(this.scale.max-this.scale.min)*this.graphHeight,t=this.getYCoord(0)-l;else if(this.scale.max<=0&&this.scale.min<this.scale.max){l=(this.data[a][u]-this.scale.max)/(this.scale.max-this.scale.min)*this.graphHeight,t=this.getYCoord(this.scale.max);l=s.abs(l)}else if(this.scale.max>0&&this.scale.min<0)l=s.abs(this.data[a][u])/(this.scale.max-this.scale.min)*this.graphHeight,t=this.data[a][u]<0?this.getYCoord(0):this.getYCoord(this.data[a][u]);else if(this.scale.min>0&&this.scale.max>this.scale.min)l=s.abs(this.data[a][u]-this.scale.min)/(this.scale.max-this.scale.min)*this.graphHeight,t=this.getYCoord(this.scale.min)-l;d=r.SVG.create({svg:this.svg,parent:"3d"===e.variant&&this.data[a][u]<0?this.threed_xaxis_group:this.svg.all,type:"rect",attr:{stroke:e.strokestyle,fill:e.colorsSequential&&e.colors[i]?e.colors[i]:e.colors[u],x:n,y:t,width:h,height:l,"stroke-width":e.linewidth,"data-original-x":n,"data-original-y":t,"data-original-width":h,"data-original-height":l,"data-index":a,"data-subindex":u,"data-sequential-index":i,"data-tooltip":!r.SVG.isNull(e.tooltips)&&e.tooltips.length?e.tooltips[i]:"","data-value":this.data[a][u],filter:e.shadow?"url(#dropShadow)":""}});if(this.drawErrorbar({object:this,element:d,index:i,value:this.data[a][u],type:"grouped"}),this.coords.push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),this.coords2[a]||(this.coords2[a]=[]),this.coords2[a].push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),"3d"===e.variant&&(this.drawTop3dFace({rect:d,value:this.data[a][u]}),this.drawSide3dFace({rect:d,value:this.data[a][u]})),!r.SVG.isNull(e.tooltips)&&e.tooltips[i]){g=this;!function(t,a){g.removeHighlight();var i=r.SVG.sequentialIndexToGrouped(a,g.data);d.addEventListener(e.tooltipsEvent.replace(/^on/,""),function(s){r.SVG.tooltip({object:g,group:t,index:i[1],sequentialIndex:a,text:e.tooltips[a],event:s}),g.highlight(s.target)},!1),d.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(a,i)}}--i}else if(r.SVG.isArray(this.data[a])&&"stacked"===e.grouping){var p=this.graphWidth/this.data.length;for(t=this.getYCoord(0),u=0;u<this.data[a].length;++u,++i){l=this.data[a][u]/(this.max-this.min)*this.graphHeight,h=p-2*e.hmargin,n=e.gutterLeft+a*p+e.hmargin,t=t-l;if(0===u&&e.shadow){var b=r.SVG.arraySum(this.data[a])/(this.max-this.min)*this.graphHeight;d=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{fill:"white",x:n,y:this.height-e.gutterBottom-b,width:h,height:b,"stroke-width":0,"data-index":a,filter:"url(#dropShadow)"}});this.stackedBackfaces[a]=d}d=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{stroke:e.strokestyle,fill:e.colorsSequential?e.colors[i]?e.colors[i]:e.colors[e.colors.length-1]:e.colors[u],x:n,y:t,width:h,height:l,"stroke-width":e.linewidth,"data-original-x":n,"data-original-y":t,"data-original-width":h,"data-original-height":l,"data-index":a,"data-subindex":u,"data-sequential-index":i,"data-tooltip":!r.SVG.isNull(e.tooltips)&&e.tooltips.length?e.tooltips[i]:"","data-value":this.data[a][u]}});if(u===this.data[a].length-1&&this.drawErrorbar({object:this,element:d,index:a,value:this.data[a][u],type:"stacked"}),this.coords.push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),this.coords2[a]||(this.coords2[a]=[]),this.coords2[a].push({object:this,element:d,x:parseFloat(d.getAttribute("x")),y:parseFloat(d.getAttribute("y")),width:parseFloat(d.getAttribute("width")),height:parseFloat(d.getAttribute("height"))}),"3d"===e.variant&&(this.drawTop3dFace({rect:d,value:this.data[a][u]}),this.drawSide3dFace({rect:d,value:this.data[a][u]})),!r.SVG.isNull(e.tooltips)&&e.tooltips[i]){g=this;!function(t,a){d.addEventListener(e.tooltipsEvent.replace(/^on/,""),function(i){g.removeHighlight();var s=r.SVG.sequentialIndexToGrouped(a,g.data);r.SVG.tooltip({object:g,index:s[1],group:t,sequentialIndex:a,text:e.tooltips[a],event:i}),g.highlight(i.target)},!1),d.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(a,i)}}--i}},this.getYCoord=function(t){if(t>this.scale.max)return null;var a;e.xaxispos;return t<this.scale.min?null:(a=(t-this.scale.min)/(this.scale.max-this.scale.min),a*=this.height-e.gutterTop-e.gutterBottom,a=this.height-e.gutterBottom-a)},this.highlight=function(t){var a=t.getAttribute("x"),i=t.getAttribute("y"),s=t.getAttribute("width"),o=t.getAttribute("height"),l=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{stroke:e.highlightStroke,fill:e.highlightFill,x:a,y:i,width:s,height:o,"stroke-width":e.highlightLinewidth},style:{pointerEvents:"none"}});e.tooltipsEvent,r.SVG.REG.set("highlight",l)},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:r.SVG.arrayClone(e.colors),backgroundGridColor:r.SVG.arrayClone(e.backgroundGridColor),highlightFill:r.SVG.arrayClone(e.highlightFill),backgroundColor:r.SVG.arrayClone(e.backgroundColor)});var t=e.colors;if(t)for(var a=0;a<t.length;++a)t[a]=r.SVG.parseColorLinear({object:this,color:t[a]});e.backgroundGridColor=r.SVG.parseColorLinear({object:this,color:e.backgroundGridColor}),e.highlightFill=r.SVG.parseColorLinear({object:this,color:e.highlightFill}),e.backgroundColor=r.SVG.parseColorLinear({object:this,color:e.backgroundColor})},this.drawLabelsAbove=function(){if(e.labelsAbove)for(var t=r.SVG.arrayLinearize(this.data),a=0,i=0;i<this.coords.length;++i,a++){var s="number"==typeof this.data[i]?this.data[i]:t[a];if("stacked"===e.grouping){var o=r.SVG.sequentialIndexToGrouped(i,this.data),l=o[0];if(o[1]!==this.data[l].length-1)continue;s=r.SVG.arraySum(this.data[l])}var h=r.SVG.numberFormat({object:this,num:s.toFixed(e.labelsAboveDecimals),prepend:"string"==typeof e.labelsAboveUnitsPre?e.labelsAboveUnitsPre:null,append:"string"==typeof e.labelsAboveUnitsPost?e.labelsAboveUnitsPost:null,point:"string"==typeof e.labelsAbovePoint?e.labelsAbovePoint:null,thousand:"string"==typeof e.labelsAboveThousand?e.labelsAboveThousand:null,formatter:"function"==typeof e.labelsAboveFormatter?e.labelsAboveFormatter:null});if(e.labelsAboveSpecific&&e.labelsAboveSpecific.length&&("string"==typeof e.labelsAboveSpecific[a]||"number"==typeof e.labelsAboveSpecific[a]))h=e.labelsAboveSpecific[a];else if(e.labelsAboveSpecific&&e.labelsAboveSpecific.length&&"string"!=typeof e.labelsAboveSpecific[a]&&"number"!=typeof e.labelsAboveSpecific[a])continue;var n=parseFloat(this.coords[i].element.getAttribute("x"))+parseFloat(this.coords[i].element.getAttribute("width")/2)+e.labelsAboveOffsetx;if(t[i]>=0)var d=parseFloat(this.coords[i].element.getAttribute("y"))-7+e.labelsAboveOffsety,g=e.labelsAboveValign;else d=parseFloat(this.coords[i].element.getAttribute("y"))+parseFloat(this.coords[i].element.getAttribute("height"))+7-e.labelsAboveOffsety,g="top"===e.labelsAboveValign?"bottom":"top";r.SVG.text({object:this,parent:this.svg.all,text:h,x:n,y:d,halign:e.labelsAboveHalign,valign:g,tag:"labels.above",font:e.labelsAboveFont||e.textFont,size:e.labelsAboveSize||e.textSize,bold:e.labelsAboveBold||e.textBold,italic:e.labelsAboveItalic||e.textItalic,color:e.labelsAboveColor||e.textColor,background:e.labelsAboveBackground||null,padding:e.labelsAboveBackgroundPadding||0})}},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),r.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.removeHighlight=function(){var t=r.SVG.REG.get("highlight");t&&t.parentNode&&t.parentNode.removeChild(t),r.SVG.REG.set("highlight",null)},this.drawTop3dFace=function(t){var a=t.rect,i=(parseInt(a.getAttribute("fill")),parseInt(a.getAttribute("x"))),s=parseInt(a.getAttribute("y")),o=parseInt(a.getAttribute("width"));parseInt(a.getAttribute("height")),parseFloat(a.getAttribute("data-value"));a.rgraph_3d_top_face=[];for(var l=0;l<2;++l){var h=0===l?a.getAttribute("fill"):"rgba(255,255,255,0.7)",n=r.SVG.create({svg:this.svg,type:"path",parent:"3d"===e.variant&&t.value<0?this.threed_xaxis_group:this.svg.all,attr:{stroke:e.strokestyle,fill:h,"stroke-width":e.linewidth,d:"M {1} {2} L {3} {4} L {5} {6} L {7} {8}".format(i,s,i+e.variant3dOffsetx,s-e.variant3dOffsety,i+o+e.variant3dOffsetx,s-e.variant3dOffsety,i+o,s)}});a.rgraph_3d_top_face[l]=n}},this.drawSide3dFace=function(t){var a=t.rect,i=(parseInt(a.getAttribute("fill")),parseInt(a.getAttribute("x"))),s=parseInt(a.getAttribute("y")),o=parseInt(a.getAttribute("width")),l=parseInt(a.getAttribute("height"));a.rgraph_3d_side_face=[];for(var h=0;h<2;++h){var n=0===h?a.getAttribute("fill"):"rgba(0,0,0,0.3)",d=r.SVG.create({svg:this.svg,type:"path",parent:"3d"===e.variant&&t.value<0?this.threed_xaxis_group:this.svg.all,attr:{stroke:e.strokestyle,fill:n,"stroke-width":e.linewidth,d:"M {1} {2} L {3} {4} L {5} {6} L {7} {8}".format(i+o,s,i+o+e.variant3dOffsetx,s-e.variant3dOffsety,i+o+e.variant3dOffsetx,s+l-e.variant3dOffsety,i+o,s+l)}});a.rgraph_3d_side_face[h]=d}},this.drawErrorbar=function(t){this.properties;var e=t.index,a=t.value,i=r.SVG.getErrorbarsLinewidth({object:this,index:e}),o=r.SVG.getErrorbarsColor({object:this,index:e}),l=r.SVG.getErrorbarsCapWidth({object:this,index:e}),h=t.element,n=t.type,d=r.SVG.getErrorbarsMaxValue({object:this,index:e}),g=r.SVG.getErrorbarsMinValue({object:this,index:e});if(d||g)if("stacked"===n&&(a=r.SVG.arraySum(this.data[e])),a>=0){var c=parseFloat(h.getAttribute("x"))+parseFloat(h.getAttribute("width"))/2,u=r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:c,y1:parseFloat(h.getAttribute("y")),x2:c,y2:this.getYCoord(parseFloat(a+d)),stroke:o,"stroke-width":i}});r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:parseFloat(u.getAttribute("x1"))-l/2,y1:u.getAttribute("y2"),x2:parseFloat(u.getAttribute("x1"))+l/2,y2:u.getAttribute("y2"),stroke:o,"stroke-width":i}});if("number"==typeof g)u=r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:c,y1:parseFloat(h.getAttribute("y")),x2:c,y2:this.getYCoord(parseFloat(a-g)),stroke:o,"stroke-width":i}}),r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:parseFloat(u.getAttribute("x1"))-l/2,y1:u.getAttribute("y2"),x2:parseFloat(u.getAttribute("x1"))+l/2,y2:u.getAttribute("y2"),stroke:o,"stroke-width":i}})}else if(a<0){c=parseFloat(h.getAttribute("x"))+parseFloat(h.getAttribute("width"))/2;var p=parseFloat(h.getAttribute("y"))+parseFloat(h.getAttribute("height")),b=this.getYCoord(parseFloat(a-s.abs(d)));u=r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:c,y1:p,x2:c,y2:b,stroke:o,"stroke-width":i}}),r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:parseFloat(u.getAttribute("x1"))-l/2,y1:u.getAttribute("y2"),x2:parseFloat(u.getAttribute("x1"))+l/2,y2:u.getAttribute("y2"),stroke:o,"stroke-width":i}});if("number"==typeof g)c=parseFloat(h.getAttribute("x"))+parseFloat(h.getAttribute("width"))/2,u=r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:c,y1:this.getYCoord(parseFloat(a+g)),x2:c,y2:this.getYCoord(parseFloat(a)),stroke:o,"stroke-width":i}}),r.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:parseFloat(u.getAttribute("x1"))-l/2,y1:u.getAttribute("y1"),x2:parseFloat(u.getAttribute("x1"))+l/2,y2:u.getAttribute("y1"),stroke:o,"stroke-width":i}})}},this.grow=function(){var t,a=arguments[0]||{},i=a.frames||30,o=0,l=this,h=null;t=r.SVG.arrayClone(this.data),this.draw();var n=function(){for(var d=0,g=0,c=l.coords.length;d<c;++d,++g){var u=o/i*r.SVG.FX.getEasingMultiplier(i,o)*r.SVG.FX.getEasingMultiplier(i,o);if("number"==typeof t[d]){if(h=s.abs(l.getYCoord(t[d])-l.getYCoord(0)),l.data[d]=t[d]*u,h*=u,l.coords[g].element.setAttribute("height",h),l.coords[g].element.setAttribute("y",t[d]<0?l.getYCoord(0):l.getYCoord(0)-h),"3d"===e.variant&&(l.coords[d].element.rgraph_3d_side_face[0].parentNode&&l.coords[d].element.rgraph_3d_side_face[0].parentNode.removeChild(l.coords[d].element.rgraph_3d_side_face[0]),l.coords[d].element.rgraph_3d_side_face[1].parentNode&&l.coords[d].element.rgraph_3d_side_face[1].parentNode.removeChild(l.coords[d].element.rgraph_3d_side_face[1]),l.coords[d].element.rgraph_3d_top_face[0].parentNode&&l.coords[d].element.rgraph_3d_top_face[0].parentNode.removeChild(l.coords[d].element.rgraph_3d_top_face[0]),l.coords[d].element.rgraph_3d_top_face[1].parentNode&&l.coords[d].element.rgraph_3d_top_face[1].parentNode.removeChild(l.coords[d].element.rgraph_3d_top_face[1]),l.drawSide3dFace({rect:l.coords[d].element}),"grouped"===e.grouping&&l.drawTop3dFace({rect:l.coords[d].element}),l.coords[d].element.parentNode)){var p=(v=l.coords[d].element.parentNode).removeChild(l.coords[d].element);v.appendChild(p)}}else if("object"==typeof t[d]){for(var b=0,f=0,m=t[d].length;f<m;++f,++g){if(h=s.abs(l.getYCoord(t[d][f])-l.getYCoord(0)),h*=u,l.data[d][f]=t[d][f]*u,h=s.round(h),l.coords[g].element.setAttribute("height",h),l.coords[g].element.setAttribute("y",t[d][f]<0?l.getYCoord(0)+b:l.getYCoord(0)-h-b),"3d"===e.variant&&(l.coords[g].element.rgraph_3d_side_face[0].parentNode&&l.coords[g].element.rgraph_3d_side_face[0].parentNode.removeChild(l.coords[g].element.rgraph_3d_side_face[0]),l.coords[g].element.rgraph_3d_side_face[1].parentNode&&l.coords[g].element.rgraph_3d_side_face[1].parentNode.removeChild(l.coords[g].element.rgraph_3d_side_face[1]),l.coords[g].element.rgraph_3d_top_face[0].parentNode&&l.coords[g].element.rgraph_3d_top_face[0].parentNode.removeChild(l.coords[g].element.rgraph_3d_top_face[0]),l.coords[g].element.rgraph_3d_top_face[1].parentNode&&l.coords[g].element.rgraph_3d_top_face[1].parentNode.removeChild(l.coords[g].element.rgraph_3d_top_face[1]),l.drawSide3dFace({rect:l.coords[g].element}),l.drawTop3dFace({rect:l.coords[g].element}),l.coords[g].element.parentNode)){var v;p=(v=l.coords[g].element.parentNode).removeChild(l.coords[g].element);v.appendChild(p)}b+="stacked"===e.grouping?h:0}l.stackedBackfaces[d]&&(l.stackedBackfaces[d].setAttribute("height",b),l.stackedBackfaces[d].setAttribute("y",l.height-e.gutterBottom-b)),--g}}o++<i?r.SVG.FX.update(n):a.callback&&a.callback(l)};return n(),this},this.wave=function(){this.draw();var t=this,a=arguments[0]||{};a.frames=a.frames||60,a.startFrames=[],a.counters=[];for(var i=a.frames/3,o=-1,l=a.callback||function(){},h=0,n=this.coords.length;h<n;h+=1)if(a.startFrames[h]=a.frames/2/(t.coords.length-1)*h,a.counters[h]=0,this.coords[h].element.setAttribute("height",0),this.coords[h].element.rgraph_3d_side_face){var d=this.coords[h].element.rgraph_3d_side_face[0].parentNode;d.removeChild(this.coords[h].element.rgraph_3d_side_face[0]),d.removeChild(this.coords[h].element.rgraph_3d_side_face[1]),d.removeChild(this.coords[h].element.rgraph_3d_top_face[0]),d.removeChild(this.coords[h].element.rgraph_3d_top_face[1])}return function h(){++o;for(var n=0,d=t.coords.length;n<d;n+=1)if(o>a.startFrames[n]){var g=t.coords[n].element.getAttribute("data-original-height"),c=parseFloat(t.coords[n].element.getAttribute("data-value")),u=s.min((o-a.startFrames[n])/i*g,g);if(t.coords[n].element.setAttribute("height",u<0?0:u),t.coords[n].element.setAttribute("y",c>=0?t.getYCoord(0)-u:t.getYCoord(0)),"3d"===e.variant&&((p=t.coords[n].element.rgraph_3d_side_face[0].parentNode)&&p.removeChild(t.coords[n].element.rgraph_3d_side_face[0]),p&&p.removeChild(t.coords[n].element.rgraph_3d_side_face[1]),(p=t.coords[n].element.rgraph_3d_top_face[0].parentNode)&&p.removeChild(t.coords[n].element.rgraph_3d_top_face[0]),p&&p.removeChild(t.coords[n].element.rgraph_3d_top_face[1]),t.coords[n].element.parentNode)){var p,b=(p=t.coords[n].element.parentNode).removeChild(t.coords[n].element);p.appendChild(b)}if("stacked"===e.grouping){var f=t.coords[n].element.getAttribute("data-sequential-index"),m=r.SVG.sequentialIndexToGrouped(f,t.data);m[1]>0&&t.coords[n].element.setAttribute("y",parseInt(t.coords[n-1].element.getAttribute("y"))-u)}"3d"===e.variant&&(t.drawSide3dFace({rect:t.coords[n].element,value:t.coords[n].element.getAttribute("data-value")}),("grouped"===e.grouping||"stacked"===e.grouping&&m[1]+1===t.data[m[0]].length)&&t.drawTop3dFace({rect:t.coords[n].element,value:t.coords[n].element.getAttribute("data-value")}))}o>=a.frames?l(t):r.SVG.FX.update(h)}(),this},t.options)"string"==typeof i&&this.set(i,t.options[i])}}(window,document);